<!DOCTYPE html>
<html lang="en">

<h1>To-Do List</h1>

<h3> <%= link_to "Add a task", new_task_path(@task)%> </h3>

<% if flash[:errors].present? %>
	<div class="alert alert-danger" role="alert" id="errors"><%= flash[:errors].join("</br>") %></div>
<% end %>

</br>

<ul class="list-group">
    <h4> Past-due items </h4>
  <% @past_due_tasks.each do |task| %>
    <li class="list-group-item"> <%= link_to '<span class="glyphicon glyphicon-check"></span>'.html_safe, mark_as_done_task_path(task), method: :patch, class: 'btn btn-success btn-xs' %> <%= link_to '<span class="glyphicon glyphicon-edit"></span>'.html_safe, edit_task_path(task), class: 'btn btn-info btn-xs' %>&emsp;<%= task.name%></li>
  <% end %>
</ul>

<ul class="list-group">
    <h4> Today's to-do list </h4>
  <% @today_tasks.each do |task| %>
    <li class="list-group-item"> <%= link_to '<span class="glyphicon glyphicon-check"></span>'.html_safe, mark_as_done_task_path(task), method: :patch, class: 'btn btn-success btn-xs' %> <%= link_to '<span class="glyphicon glyphicon-edit"></span>'.html_safe, edit_task_path(task), class: 'btn btn-info btn-xs' %> &emsp;<%= task.name%> </li>
  <% end %>
</ul>

<ul class="list-group">
    <h4> Due tomorrow and later </h4>
  <% @future_tasks.each do |task| %>
    <li class="list-group-item"> <%= link_to '<span class="glyphicon glyphicon-check"></span>'.html_safe, mark_as_done_task_path(task), method: :patch, class: 'btn btn-success btn-xs' %> <%= link_to '<span class="glyphicon glyphicon-edit"></span>'.html_safe, edit_task_path(task), class: 'btn btn-info btn-xs' %>&emsp; <%= task.name%></li>
  <% end %>
</ul>

<ul class="list-group">
    <h4> Completed tasks </h4>
  <% @completed_tasks.each do |task| %>
    <li class="list-group-item"> <%= link_to '<span class="glyphicon glyphicon-check"></span>'.html_safe, mark_as_done_task_path(task), method: :patch, class: 'btn btn-success btn-xs' %> <%= link_to '<span class="glyphicon glyphicon-edit"></span>'.html_safe, edit_task_path(task), class: 'btn btn-info btn-xs' %> <%= link_to '<span class="glyphicon glyphicon-minus"></span>'.html_safe, mark_as_open_task_path(task), method: :patch, class: 'btn btn-warning btn-xs' %>&emsp;<%= task.name%></li>
  <% end %>
</ul>

</html>

